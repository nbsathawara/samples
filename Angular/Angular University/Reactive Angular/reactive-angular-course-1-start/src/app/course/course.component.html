<ng-container *ngIf="data$ | async as data">
  <div class="course">
    <h2>{{ data.course?.description }}</h2>

    <img
      class="course-thumbnail"
      [src]="data.course?.iconUrl"
      *ngIf="data.course"
    />

    <ng-container *ngIf="!activeLesson; else detail">
      <ng-container *ngIf="data.lessons.length">
        <table class="lessons-table mat-elevation-z7">
          <thead>
            <th>#</th>
            <th>Description</th>
            <th>Duration</th>
          </thead>
          <tr
            class="lesson-row"
            *ngFor="let lesson of data.lessons"
            (click)="onLessonClicked(lesson)"
          >
            <td class="seqno-cell">{{ lesson.seqNo }}</td>
            <td class="description-cell">{{ lesson.description }}</td>
            <td class="duration-cell">{{ lesson.duration }}</td>
          </tr>
        </table>
      </ng-container>
    </ng-container>
    <ng-template #detail>
      <button mat-raised-button class="back-btn" (click)="onBackToLessons()">
        <mat-icon>arrow_back_ios</mat-icon>
        Back to Lessons
      </button>
      <lesson [lesson]="activeLesson" />
    </ng-template>
  </div>
</ng-container>
